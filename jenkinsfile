//scripted pipeline

//node ('JDK8'){
  //  stage('source code'){
        //Get the code from git repository on the branch sprint1_develop
    //    git branch: 'sprint1_develop', url: 'https://github.com/jagadeeshmedavarapu/game-of-life.git'
    //}
    //stage('Build the code'){
      //  sh 'mvn clean package'
    //}
    //stage('Archiving and Test Reports'){
      //  archiveArtifacts artifacts: '**/*.war', followSymlinks: false
        //junit '**/surefire-reports/*.xml'

    //}
//}

//declarative pipeline



pipeline {
    agent { label 'JDK8' }
    triggers { pollSCM('* * * * *') }
    stages {
        stage('SourceCode') {
            steps {
                git branch: 'sprint1_develop', url: 'https://github.com/jagadeeshmedavarapu/game-of-life.git'
            }
        }
        stage('Build') {
            steps {
                sh 'mvn clean package'
            }
        }
        stage('Archive and Test Results') {
            steps {
               junit '**/surefire-reports/*.xml'
               archiveArtifacts artifacts: '**/*.war', followSymlinks: false
            }
        }
    }
}
